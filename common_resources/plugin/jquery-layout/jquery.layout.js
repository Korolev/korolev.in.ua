(function($){$.layout={version:"1.3.rc29.15",revision:.032915,language:{Open:"Open",Close:"Close",Resize:"Resize",Slide:"Slide Open",Pin:"Pin",Unpin:"Un-Pin",noRoomToOpenTip:"Not enough room to show this pane.",pane:"pane",selector:"selector",errButton:"Error Adding Button \n\nInvalid ",errContainerMissing:"UI Layout Initialization Error\n\nThe specified layout-container does not exist.",errCenterPaneMissing:"UI Layout Initialization Error\n\nThe center-pane element does not exist.\n\nThe center-pane is a required element.",errContainerHeight:"UI Layout Initialization Warning\n\nThe layout-container \"CONTAINER\" has no height.\n\nTherefore the layout is 0-height and hence 'invisible'!"},browser:{mozilla:!!$.browser.mozilla,webkit:!!$.browser.webkit||!!$.browser.safari,msie:!!$.browser.msie,isIE6:!!$.browser.msie&&$.browser.version==6,boxModel:false},scrollbarWidth:function(){return window.scrollbarWidth||$.layout.getScrollbarSize("width")},scrollbarHeight:function(){return window.scrollbarHeight||$.layout.getScrollbarSize("height")},getScrollbarSize:function(e){var t=$('<div style="position: absolute; top: -10000px; left: -10000px; width: 100px; height: 100px; overflow: scroll;"></div>').appendTo("body");var n={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};t.remove();window.scrollbarWidth=n.width;window.scrollbarHeight=n.height;return e.match(/^(width|height)$/i)?n[e]:n},showInvisibly:function(e,t){if(!e)return{};if(!e.jquery)e=$(e);var n={display:e.css("display"),visibility:e.css("visibility")};if(t||n.display=="none"){e.css({display:"block",visibility:"hidden"});return n}else return{}},getElementDimensions:function(e){var t={},n=t.css={},r={},i,s,o=$.layout.cssNum,u=e.offset();t.offsetLeft=u.left;t.offsetTop=u.top;$.each("Left,Right,Top,Bottom".split(","),function(o,u){i=n["border"+u]=$.layout.borderWidth(e,u);s=n["padding"+u]=$.layout.cssNum(e,"padding"+u);r[u]=i+s;t["inset"+u]=s});t.offsetWidth=e.innerWidth();t.offsetHeight=e.innerHeight();t.outerWidth=e.outerWidth();t.outerHeight=e.outerHeight();t.innerWidth=Math.max(0,t.outerWidth-r.Left-r.Right);t.innerHeight=Math.max(0,t.outerHeight-r.Top-r.Bottom);n.width=e.width();n.height=e.height();n.top=o(e,"top",true);n.bottom=o(e,"bottom",true);n.left=o(e,"left",true);n.right=o(e,"right",true);return t},getElementCSS:function(e,t){var n={},r=e[0].style,i=t.split(","),s="Top,Bottom,Left,Right".split(","),o="Color,Style,Width".split(","),u,a,f,l,c,h;for(l=0;l<i.length;l++){u=i[l];if(u.match(/(border|padding|margin)$/))for(c=0;c<4;c++){a=s[c];if(u=="border")for(h=0;h<3;h++){f=o[h];n[u+a+f]=r[u+a+f]}else n[u+a]=r[u+a]}else n[u]=r[u]}return n},cssWidth:function(e,t){var n=$.layout.borderWidth,r=$.layout.cssNum;if(t<=0)return 0;if(!$.layout.browser.boxModel)return t;var i=t-n(e,"Left")-n(e,"Right")-r(e,"paddingLeft")-r(e,"paddingRight");return Math.max(0,i)},cssHeight:function(e,t){var n=$.layout.borderWidth,r=$.layout.cssNum;if(t<=0)return 0;if(!$.layout.browser.boxModel)return t;var i=t-n(e,"Top")-n(e,"Bottom")-r(e,"paddingTop")-r(e,"paddingBottom");return Math.max(0,i)},cssNum:function(e,t,n){if(!e.jquery)e=$(e);var r=$.layout.showInvisibly(e),i=$.curCSS(e[0],t,true),s=n&&i=="auto"?i:parseInt(i,10)||0;e.css(r);return s},borderWidth:function(e,t){if(e.jquery)e=e[0];var n="border"+t.substr(0,1).toUpperCase()+t.substr(1);return $.curCSS(e,n+"Style",true)=="none"?0:parseInt($.curCSS(e,n+"Width",true),10)||0},isMouseOverElem:function(e,t){var n=$(t||this),r=n.offset(),i=r.top,s=r.left,o=s+n.outerWidth(),u=i+n.outerHeight(),a=e.pageX,f=e.pageY;return $.layout.browser.msie&&a<0&&f<0||a>=s&&a<=o&&f>=i&&f<=u}};$.fn.layout=function(opts){function keyDown(e){if(!e)return true;var t=e.keyCode;if(t<33)return true;var n={38:"north",40:"south",37:"west",39:"east"},r=e.altKey,i=e.shiftKey,s=e.ctrlKey,o=s&&t>=37&&t<=40,u,a,f,l;if(o&&options[n[t]].enableCursorHotkey)l=n[t];else if(s||i)$.each(_c.borderPanes.split(","),function(e,n){u=options[n];a=u.customHotkey;f=u.customHotkeyModifier;if(i&&f=="SHIFT"||s&&f=="CTRL"||s&&i){if(a&&t==(isNaN(a)||a<=9?a.toUpperCase().charCodeAt(0):a)){l=n;return false}}});if(!l||!$Ps[l]||!options[l].closable||state[l].isHidden)return true;toggle(l);e.stopPropagation();e.returnValue=false;return false}function allowOverflow(e){if(!isInitialized())return;if(this&&this.tagName)e=this;var t;if(isStr(e))t=$Ps[e];else if($(e).data("layoutRole"))t=$(e);else $(e).parents().each(function(){if($(this).data("layoutRole")){t=$(this);return false}});if(!t||!t.length)return;var n=t.data("layoutEdge"),r=state[n];if(r.cssSaved)resetOverflow(n);if(r.isSliding||r.isResizing||r.isClosed){r.cssSaved=false;return}var i={zIndex:_c.zIndex.pane_normal+2},s={},o=t.css("overflow"),u=t.css("overflowX"),a=t.css("overflowY");if(o!="visible"){s.overflow=o;i.overflow="visible"}if(u&&!u.match(/visible|auto/)){s.overflowX=u;i.overflowX="visible"}if(a&&!a.match(/visible|auto/)){s.overflowY=u;i.overflowY="visible"}r.cssSaved=s;t.css(i);$.each(_c.allPanes.split(","),function(e,t){if(t!=n)resetOverflow(t)})}function resetOverflow(e){if(!isInitialized())return;if(this&&this.tagName)e=this;var t;if(isStr(e))t=$Ps[e];else if($(e).data("layoutRole"))t=$(e);else $(e).parents().each(function(){if($(this).data("layoutRole")){t=$(this);return false}});if(!t||!t.length)return;var n=t.data("layoutEdge"),r=state[n],i=r.cssSaved||{};if(!r.isSliding&&!r.isResizing)t.css("zIndex",_c.zIndex.pane_normal);t.css(i);r.cssSaved=false}function getBtn(e,t,n){var r=$(e),i=options.showErrorMessages;if(!r.length){if(i)alert(lang.errButton+lang.selector+": "+e)}else if(_c.borderPanes.indexOf(t)==-1){if(i)alert(lang.errButton+lang.pane+": "+t)}else{var s=options[t].buttonClass+"-"+n;r.addClass(s+" "+s+"-"+t).data("layoutName",options.name);return r}return null}function bindButton(e,t,n){switch(t.toLowerCase()){case"toggle":addToggleBtn(e,n);break;case"open":addOpenBtn(e,n);break;case"close":addCloseBtn(e,n);break;case"pin":addPinBtn(e,n);break;case"toggle-slide":addToggleBtn(e,n,true);break;case"open-slide":addOpenBtn(e,n,true);break}}function addToggleBtn(e,t,n){var r=getBtn(e,t,"toggle");if(r)r.click(function(e){toggle(t,!!n);e.stopPropagation()})}function addOpenBtn(e,t,n){var r=getBtn(e,t,"open");if(r)r.attr("title",lang.Open).click(function(e){open(t,!!n);e.stopPropagation()})}function addCloseBtn(e,t){var n=getBtn(e,t,"close");if(n)n.attr("title",lang.Close).click(function(e){close(t);e.stopPropagation()})}function addPinBtn(e,t){var n=getBtn(e,t,"pin");if(n){var r=state[t];n.click(function(e){setPinState($(this),t,r.isSliding||r.isClosed);if(r.isSliding||r.isClosed)open(t);else close(t);e.stopPropagation()});setPinState(n,t,!r.isClosed&&!r.isSliding);_c[t].pins.push(e)}}function syncPinBtns(e,t){$.each(_c[e].pins,function(n,r){setPinState($(r),e,t)})}function setPinState(e,t,n){var r=e.attr("pin");if(r&&n==(r=="down"))return;var i=options[t].buttonClass+"-pin",s=i+"-"+t,o=i+"-up "+s+"-up",u=i+"-down "+s+"-down";e.attr("pin",n?"down":"up").attr("title",n?lang.Unpin:lang.Pin).removeClass(n?o:u).addClass(n?u:o)}function isCookiesEnabled(){return navigator.cookieEnabled!=0}function getCookie(e){var t=$.extend({},options.cookie,e||{}),n=t.name||options.name||"Layout",r=document.cookie,i=r?r.split(";"):[],s;for(var o=0,u=i.length;o<u;o++){s=$.trim(i[o]).split("=");if(s[0]==n)return decodeJSON(decodeURIComponent(s[1]))}return""}function saveCookie(e,t){var n=$.extend({},options.cookie,t||{}),r=n.name||options.name||"Layout",i="",s="",o=false;if(n.expires.toUTCString)s=n.expires;else if(typeof n.expires=="number"){s=new Date;if(n.expires>0)s.setDate(s.getDate()+n.expires);else{s.setYear(1970);o=true}}if(s)i+=";expires="+s.toUTCString();if(n.path)i+=";path="+n.path;if(n.domain)i+=";domain="+n.domain;if(n.secure)i+=";secure";if(o){state.cookie={};document.cookie=r+"="+i}else{state.cookie=getState(e||n.keys);document.cookie=r+"="+encodeURIComponent(encodeJSON(state.cookie))+i}return $.extend({},state.cookie)}function deleteCookie(){saveCookie("",{expires:-1})}function loadCookie(e){var t=getCookie(e);if(t){state.cookie=$.extend({},t);loadState(t)}return t}function loadState(e,t){e=_transformData(e);$.extend(true,options,e);if(state.initialized){var n,r,i,s,o,u=!t;$.each(_c.allPanes.split(","),function(t,n){r=e[n];if(typeof r!="object")return;i=r.size;o=r.initClosed;s=r.initHidden;if(i>0||i=="auto")sizePane(n,i);if(s===true)hide(n,u);else if(o===false)open(n,false,u);else if(o===true)close(n,false,u);else if(s===false)show(n,false,u)})}}function getState(e){var t={},n={isClosed:"initClosed",isHidden:"initHidden"},r,i,s,o;if(!e)e=options.cookie.keys;if($.isArray(e))e=e.join(",");e=e.replace(/__/g,".").split(",");for(var u=0,a=e.length;u<a;u++){r=e[u].split(".");i=r[0];s=r[1];if(_c.allPanes.indexOf(i)<0)continue;o=state[i][s];if(o==undefined)continue;if(s=="isClosed"&&state[i]["isSliding"])o=true;(t[i]||(t[i]={}))[n[s]?n[s]:s]=o}return t}function encodeJSON(e){function t(e){var n=[],r=0,i,s,o;for(i in e){s=e[i];o=typeof s;if(o=="string")s='"'+s+'"';else if(o=="object")s=t(s);n[r++]='"'+i+'":'+s}return"{"+n.join(",")+"}"}return t(e);}function decodeJSON(e){try{return window["eval"]("("+e+")")||{}}catch(t){return{}}}var lang=$.layout.language,options={name:"",containerClass:"ui-layout-container",scrollToBookmarkOnLoad:true,resizeWithWindow:true,resizeWithWindowDelay:200,resizeWithWindowMaxDelay:0,onresizeall_start:null,onresizeall_end:null,onload_start:null,onload_end:null,onunload_start:null,onunload_end:null,autoBindCustomButtons:false,zIndex:null,initPanes:true,showErrorMessages:true,defaults:{applyDemoStyles:false,closable:true,resizable:true,slidable:true,initClosed:false,initHidden:false,contentSelector:".ui-layout-content",contentIgnoreSelector:".ui-layout-ignore",findNestedContent:false,paneClass:"ui-layout-pane",resizerClass:"ui-layout-resizer",togglerClass:"ui-layout-toggler",buttonClass:"ui-layout-button",minSize:0,maxSize:0,spacing_open:6,spacing_closed:6,togglerLength_open:50,togglerLength_closed:50,togglerAlign_open:"center",togglerAlign_closed:"center",togglerTip_open:lang.Close,togglerTip_closed:lang.Open,togglerContent_open:"",togglerContent_closed:"",resizerDblClickToggle:true,autoResize:true,autoReopen:true,resizerDragOpacity:1,maskIframesOnResize:true,resizeNestedLayout:true,resizeWhileDragging:false,resizeContentWhileDragging:false,noRoomToOpenTip:lang.noRoomToOpenTip,resizerTip:lang.Resize,sliderTip:lang.Slide,sliderCursor:"pointer",slideTrigger_open:"click",slideTrigger_close:"mouseleave",slideDelay_open:300,slideDelay_close:300,hideTogglerOnSlide:false,preventQuickSlideClose:$.layout.browser.webkit,preventPrematureSlideClose:false,showOverflowOnHover:false,enableCursorHotkey:true,customHotkeyModifier:"SHIFT",fxName:"slide",fxSpeed:null,fxSettings:{},fxOpacityFix:true,triggerEventsOnLoad:false,triggerEventsWhileDragging:true,onshow_start:null,onshow_end:null,onhide_start:null,onhide_end:null,onopen_start:null,onopen_end:null,onclose_start:null,onclose_end:null,onresize_start:null,onresize_end:null,onsizecontent_start:null,onsizecontent_end:null,onswap_start:null,onswap_end:null,ondrag_start:null,ondrag_end:null},north:{paneSelector:".ui-layout-north",size:"auto",resizerCursor:"n-resize",customHotkey:""},south:{paneSelector:".ui-layout-south",size:"auto",resizerCursor:"s-resize",customHotkey:""},east:{paneSelector:".ui-layout-east",size:200,resizerCursor:"e-resize",customHotkey:""},west:{paneSelector:".ui-layout-west",size:200,resizerCursor:"w-resize",customHotkey:""},center:{paneSelector:".ui-layout-center",minWidth:0,minHeight:0},useStateCookie:false,cookie:{name:"",autoSave:true,autoLoad:true,domain:"",path:"",expires:"",secure:false,keys:"north.size,south.size,east.size,west.size,"+"north.isClosed,south.isClosed,east.isClosed,west.isClosed,"+"north.isHidden,south.isHidden,east.isHidden,west.isHidden"}},effects={slide:{all:{duration:"fast"},north:{direction:"up"},south:{direction:"down"},east:{direction:"right"},west:{direction:"left"}},drop:{all:{duration:"slow"},north:{direction:"up"},south:{direction:"down"},east:{direction:"right"},west:{direction:"left"}},scale:{all:{duration:"fast"}}},state={id:"layout"+(new Date).getTime(),initialized:false,container:{},north:{},south:{},east:{},west:{},center:{},cookie:{}},_c={allPanes:"north,south,west,east,center",borderPanes:"north,south,west,east",altSide:{north:"south",south:"north",east:"west",west:"east"},hidden:{visibility:"hidden"},visible:{visibility:"visible"},zIndex:{pane_normal:1,resizer_normal:2,iframe_mask:2,pane_sliding:100,pane_animate:1e3,resizer_drag:1e4},resizers:{cssReq:{position:"absolute",padding:0,margin:0,fontSize:"1px",textAlign:"left",overflow:"hidden"},cssDemo:{background:"#DDD",border:"none"}},togglers:{cssReq:{position:"absolute",display:"block",padding:0,margin:0,overflow:"hidden",textAlign:"center",fontSize:"1px",cursor:"pointer",zIndex:1},cssDemo:{background:"#AAA"}},content:{cssReq:{position:"relative"},cssDemo:{overflow:"auto",padding:"10px"},cssDemoPane:{overflow:"hidden",padding:0}},panes:{cssReq:{position:"absolute",margin:0},cssDemo:{padding:"10px",background:"#FFF",border:"1px solid #BBB",overflow:"auto"}},north:{side:"Top",sizeType:"Height",dir:"horz",cssReq:{top:0,bottom:"auto",left:0,right:0,width:"auto"},pins:[]},south:{side:"Bottom",sizeType:"Height",dir:"horz",cssReq:{top:"auto",bottom:0,left:0,right:0,width:"auto"},pins:[]},east:{side:"Right",sizeType:"Width",dir:"vert",cssReq:{left:"auto",right:0,top:"auto",bottom:"auto",height:"auto"},pins:[]},west:{side:"Left",sizeType:"Width",dir:"vert",cssReq:{left:0,right:"auto",top:"auto",bottom:"auto",height:"auto"},pins:[]},center:{dir:"center",cssReq:{left:"auto",right:"auto",top:"auto",bottom:"auto",height:"auto",width:"auto"}}},timer={data:{},set:function(e,t,n){timer.clear(e);timer.data[e]=setTimeout(t,n)},clear:function(e){var t=timer.data;if(t[e]){clearTimeout(t[e]);delete t[e]}}},isStr=function(e){try{return typeof e=="string"||typeof e=="object"&&e.constructor.toString().match(/string/i)!==null}catch(t){return false}},str=function(e){return isStr(e)?$.trim(e):e==undefined||e==null?"":e},min=function(e,t){return Math.min(e,t)},max=function(e,t){return Math.max(e,t)},_transformData=function(e){var t,n={cookie:{},defaults:{fxSettings:{}},north:{fxSettings:{}},south:{fxSettings:{}},east:{fxSettings:{}},west:{fxSettings:{}},center:{fxSettings:{}}};e=e||{};if(e.effects||e.cookie||e.defaults||e.north||e.south||e.west||e.east||e.center)n=$.extend(true,n,e);else $.each(e,function(e,r){t=e.split("__");if(!t[1]||n[t[0]])n[t[1]?t[0]:"defaults"][t[1]?t[1]:t[0]]=r});return n},_queue=function(e,t,n){function i(s){var o=_c[s];if(!o.doCallback){o.doCallback=true;o.callback=e+","+t+","+(n?1:0)}else{r.push(s);var u=o.callback.split(",")[1];if(u!=t&&!$.inArray(u,r)>=0)i(u)}}var r=[];$.each(_c.borderPanes.split(","),function(e,t){if(_c[t].isMoving){i(t);return false}})},_dequeue=function(e){var t=_c[e];_c.isLayoutBusy=false;delete t.isMoving;if(!t.doCallback||!t.callback)return;t.doCallback=false;var n=t.callback.split(","),r=n[2]>0?true:false;if(n[0]=="open")open(n[1],r);else if(n[0]=="close")close(n[1],r);if(!t.doCallback)t.callback=null},_execCallback=function(pane,v_fn){if(!v_fn)return;var fn;try{if(typeof v_fn=="function")fn=v_fn;else if(!isStr(v_fn))return;else if(v_fn.match(/,/)){var args=v_fn.split(",");fn=eval(args[0]);if(typeof fn=="function"&&args.length>1)return fn(args[1])}else fn=eval(v_fn);if(typeof fn=="function"){if(pane&&$Ps[pane])return fn(pane,$Ps[pane],state[pane],options[pane],options.name);else return fn(Instance,state,options,options.name)}}catch(ex){}},_fixIframe=function(e){if($.layout.browser.mozilla)return;var t=$Ps[e];if(state[e].tagName=="IFRAME")t.css(_c.hidden).css(_c.visible);else t.find("IFRAME").css(_c.hidden).css(_c.visible)},cssW=function(e,t){var n=isStr(e),r=n?$Ps[e]:$(e);if(!r.length)return 0;if(isNaN(t))t=n?getPaneSize(e):r.outerWidth();return $.layout.cssWidth(r,t)},cssH=function(e,t){var n=isStr(e),r=n?$Ps[e]:$(e);if(!r.length)return 0;if(isNaN(t))t=n?getPaneSize(e):r.outerHeight();return $.layout.cssHeight(r,t)},cssSize=function(e,t){if(_c[e].dir=="horz")return cssH(e,t);else return cssW(e,t)},cssMinDims=function(e){var t=_c[e].dir,n={minWidth:1001-cssW(e,1e3),minHeight:1001-cssH(e,1e3)};if(t=="horz")n.minSize=n.minHeight;if(t=="vert")n.minSize=n.minWidth;return n},setOuterWidth=function(e,t,n){var r=e,i;if(isStr(e))r=$Ps[e];else if(!e.jquery)r=$(e);i=cssW(r,t);r.css({width:i});if(i>0){if(n&&r.data("autoHidden")&&r.innerHeight()>0){r.show().data("autoHidden",false);if(!$.layout.browser.mozilla)r.css(_c.hidden).css(_c.visible)}}else if(n&&!r.data("autoHidden"))r.hide().data("autoHidden",true)},setOuterHeight=function(e,t,n){var r=e,i;if(isStr(e))r=$Ps[e];else if(!e.jquery)r=$(e);i=cssH(r,t);r.css({height:i,visibility:"visible"});if(i>0&&r.innerWidth()>0){if(n&&r.data("autoHidden")){r.show().data("autoHidden",false);if(!$.layout.browser.mozilla)r.css(_c.hidden).css(_c.visible)}}else if(n&&!r.data("autoHidden"))r.hide().data("autoHidden",true)},setOuterSize=function(e,t,n){if(_c[pane].dir=="horz")setOuterHeight(e,t,n);else setOuterWidth(e,t,n)},_parseSize=function(e,t,n){if(!n)n=_c[e].dir;if(isStr(t)&&t.match(/%/))t=parseInt(t,10)/100;if(t===0)return 0;else if(t>=1)return parseInt(t,10);else if(t>0){var r=options,i;if(n=="horz")i=sC.innerHeight-($Ps.north?r.north.spacing_open:0)-($Ps.south?r.south.spacing_open:0);else if(n=="vert")i=sC.innerWidth-($Ps.west?r.west.spacing_open:0)-($Ps.east?r.east.spacing_open:0);return Math.floor(i*t)}else if(e=="center")return 0;else{var s=$Ps[e],o=n=="horz"?"height":"width",u=$.layout.showInvisibly(s),a=s.css(o);s.css(o,"auto");t=o=="height"?s.outerHeight():s.outerWidth();s.css(o,a).css(u);return t}},getPaneSize=function(e,t){var n=$Ps[e],r=options[e],i=state[e],s=t?r.spacing_open:0,o=t?r.spacing_closed:0;if(!n||i.isHidden)return 0;else if(i.isClosed||i.isSliding&&t)return o;else if(_c[e].dir=="horz")return n.outerHeight()+s;else return n.outerWidth()+s},setSizeLimits=function(e,t){if(!isInitialized())return;var n=options[e],r=state[e],i=_c[e],s=i.dir,o=i.side.toLowerCase(),u=i.sizeType.toLowerCase(),a=t!=undefined?t:r.isSliding,f=$Ps[e],l=n.spacing_open,c=_c.altSide[e],h=state[c],p=$Ps[c],d=!p||h.isVisible===false||h.isSliding?0:s=="horz"?p.outerHeight():p.outerWidth(),v=(!p||h.isHidden?0:options[c][h.isClosed!==false?"spacing_closed":"spacing_open"])||0,m=s=="horz"?sC.innerHeight:sC.innerWidth,g=cssMinDims("center"),y=s=="horz"?max(options.center.minHeight,g.minHeight):max(options.center.minWidth,g.minWidth),b=m-l-(a?0:_parseSize("center",y,s)+d+v),w=r.minSize=max(_parseSize(e,n.minSize),cssMinDims(e).minSize),E=r.maxSize=min(n.maxSize?_parseSize(e,n.maxSize):1e5,b),S=r.resizerPosition={},x=sC.insetTop,T=sC.insetLeft,N=sC.innerWidth,C=sC.innerHeight,k=n.spacing_open;switch(e){case"north":S.min=x+w;S.max=x+E;break;case"west":S.min=T+w;S.max=T+E;break;case"south":S.min=x+C-E-k;S.max=x+C-w-k;break;case"east":S.min=T+N-E-k;S.max=T+N-w-k;break}},calcNewCenterPaneDims=function(){var e={top:getPaneSize("north",true),bottom:getPaneSize("south",true),left:getPaneSize("west",true),right:getPaneSize("east",true),width:0,height:0};e.width=sC.innerWidth-e.left-e.right;e.height=sC.innerHeight-e.bottom-e.top;e.top+=sC.insetTop;e.bottom+=sC.insetBottom;e.left+=sC.insetLeft;e.right+=sC.insetRight;return e},elDims=function(e){return $.layout.getElementDimensions(e)},elCSS=function(e,t){return $.layout.getElementCSS(e,t)},getHoverClasses=function(e,t){var n=$(e),r=n.data("layoutRole"),i=n.data("layoutEdge"),s=options[i],o=s[r+"Class"],u="-"+i,a="-open",f="-closed",l="-sliding",c="-hover ",h=n.hasClass(o+f)?f:a,p=h==f?a:f,d=o+c+(o+u+c)+(o+h+c)+(o+u+h+c);if(t)d+=o+p+c+(o+u+p+c);if(r=="resizer"&&n.hasClass(o+l))d+=o+l+c+(o+u+l+c);return $.trim(d)},addHover=function(e,t){var n=$(t||this);if(e&&n.data("layoutRole")=="toggler")e.stopPropagation();n.addClass(getHoverClasses(n))},removeHover=function(e,t){var n=$(t||this);n.removeClass(getHoverClasses(n,true))},onResizerEnter=function(e){$("body").disableSelection();addHover(e,this)},onResizerLeave=function(e,t){var n=t||this,r=$(n).data("layoutEdge"),i=r+"ResizerLeave";timer.clear(r+"_openSlider");timer.clear(i);if(!t){removeHover(e,this);timer.set(i,function(){onResizerLeave(e,n)},200)}else if(!state[r].isResizing)$("body").enableSelection()},_create=function(){initOptions();var e=options;$.layout.browser.boxModel=$.support.boxModel;if(e.useStateCookie&&e.cookie.autoLoad)loadCookie();state.creatingLayout=true;if(false===_execCallback(null,e.onload_start))return"cancel";_initContainer();initHotkeys();if(e.autoBindCustomButtons)initButtons();$(window).bind("unload."+sID,unload);if(e.initPanes)_initLayoutElements();delete state.creatingLayout;return state.initialized},isInitialized=function(){if(state.initialized||state.creatingLayout)return true;else return _initLayoutElements()},_initLayoutElements=function(){var e=options;if(!$N.is(":visible"))return false;if(!getPane("center").length){if(e.showErrorMessages)alert(lang.errCenterPaneMissing);return false}state.creatingLayout=true;$.extend(sC,elDims($N));initPanes();sizeContent();if(e.scrollToBookmarkOnLoad){var t=self.location;if(t.hash)t.replace(t.hash)}if(e.resizeWithWindow&&!$N.data("layoutRole"))$(window).bind("resize."+sID,windowResize);delete state.creatingLayout;state.initialized=true;_execCallback(null,e.onload_end||e.onload);return true},windowResize=function(){var e=Number(options.resizeWithWindowDelay);if(e<10)e=100;timer.clear("winResize");timer.set("winResize",function(){timer.clear("winResize");timer.clear("winResizeRepeater");var e=elDims($N);if(e.innerWidth!==sC.innerWidth||e.innerHeight!==sC.innerHeight)resizeAll()},e);if(!timer.data["winResizeRepeater"])setWindowResizeRepeater()},setWindowResizeRepeater=function(){var e=Number(options.resizeWithWindowMaxDelay);if(e>0)timer.set("winResizeRepeater",function(){setWindowResizeRepeater();resizeAll()},e)},unload=function(){var e=options;state.cookie=getState();_execCallback(null,e.onunload_start);if(e.useStateCookie&&e.cookie.autoSave)saveCookie();_execCallback(null,e.onunload_end||e.onunload)},_initContainer=function(){var e=sC.tagName=$N[0].tagName,t=options,n=e=="BODY",r="overflow,position,margin,padding,border",i={},s="hidden",o=$N.is(":visible");sC.selector=$N.selector.split(".slice")[0];sC.ref=e+"/"+sC.selector;$N.data("layout",Instance);$N.data("layoutContainer",sID);$N.addClass(t.containerClass);if(!$N.data("layoutCSS")){if(n){i=$.extend(elCSS($N,r),{height:$N.css("height"),overflow:$N.css("overflow"),overflowX:$N.css("overflowX"),overflowY:$N.css("overflowY")});var u=$("html");u.data("layoutCSS",{height:"auto",overflow:u.css("overflow"),overflowX:u.css("overflowX"),overflowY:u.css("overflowY")})}else i=elCSS($N,r+",top,bottom,left,right,width,height,overflow,overflowX,overflowY");$N.data("layoutCSS",i)}try{if(n){$("html").css({height:"100%",overflow:s,overflowX:s,overflowY:s});$("body").css({position:"relative",height:"100%",overflow:s,overflowX:s,overflowY:s,margin:0,padding:0,border:"none"});$.extend(sC,elDims($N))}else{i={overflow:s,overflowX:s,overflowY:s};var a=$N.css("position"),f=$N.css("height");if(!$N.data("layoutRole")){if(!a||!a.match(/fixed|absolute|relative/))i.position="relative"}$N.css(i);if(o){$.extend(sC,elDims($N));if(t.showErrorMessages&&sC.innerHeight<2)alert(lang.errContainerHeight.replace(/CONTAINER/,sC.ref))}}}catch(l){}},initHotkeys=function(e){if(!e||e=="all")e=_c.borderPanes;$.each(e.split(","),function(e,t){var n=options[t];if(n.enableCursorHotkey||n.customHotkey){$(document).bind("keydown."+sID,keyDown);return false}})},initOptions=function(){function u(t){for(var n in e){if(t[n]!=undefined){t[e[n]]=t[n];delete t[n]}}}opts=_transformData(opts);var e={applyDefaultStyles:"applyDemoStyles"};u(opts.defaults);$.each(_c.allPanes.split(","),function(e,t){u(opts[t])});if(opts.effects){$.extend(effects,opts.effects);delete opts.effects}$.extend(options.cookie,opts.cookie);var t="name,containerClass,zIndex,scrollToBookmarkOnLoad,resizeWithWindow,resizeWithWindowDelay,resizeWithWindowMaxDelay,"+"onresizeall,onresizeall_start,onresizeall_end,onload,onload_start,onload_end,onunload,onunload_start,onunload_end,"+"autoBindCustomButtons,useStateCookie,showErrorMessages";$.each(t.split(","),function(e,t){if(opts[t]!==undefined)options[t]=opts[t];else if(opts.defaults[t]!==undefined){options[t]=opts.defaults[t];delete opts.defaults[t]}});$.each("paneSelector,resizerCursor,customHotkey".split(","),function(e,t){delete opts.defaults[t]});$.extend(true,options.defaults,opts.defaults);_c.center=$.extend(true,{},_c.panes,_c.center);var n=options.zIndex;if(n===0||n>0){_c.zIndex.pane_normal=n;_c.zIndex.resizer_normal=n+1;_c.zIndex.iframe_mask=n+1}$.extend(options.center,opts.center);var r=$.extend(true,{},options.defaults,opts.defaults,options.center);var i=("paneClass,contentSelector,applyDemoStyles,triggerEventsOnLoad,showOverflowOnHover,"+"onresize,onresize_start,onresize_end,resizeNestedLayout,resizeContentWhileDragging,findNestedContent,"+"onsizecontent,onsizecontent_start,onsizecontent_end").split(",");$.each(i,function(e,t){options.center[t]=r[t]});var s,o=options.defaults;$.each(_c.borderPanes.split(","),function(e,t){_c[t]=$.extend(true,{},_c.panes,_c[t]);s=options[t]=$.extend(true,{},options.defaults,options[t],opts.defaults,opts[t]);if(!s.paneClass)s.paneClass="ui-layout-pane";if(!s.resizerClass)s.resizerClass="ui-layout-resizer";if(!s.togglerClass)s.togglerClass="ui-layout-toggler";$.each(["_open","_close",""],function(e,n){var r="fxName"+n,i="fxSpeed"+n,u="fxSettings"+n;s[r]=opts[t][r]||opts[t].fxName||opts.defaults[r]||opts.defaults.fxName||s[r]||s.fxName||o[r]||o.fxName||"none";var a=s[r];if(a=="none"||!$.effects||!$.effects[a]||!effects[a]&&!s[u]&&!s.fxSettings)a=s[r]="none";var f=effects[a]||{},l=f.all||{},c=f[t]||{};s[u]=$.extend({},l,c,o.fxSettings||{},o[u]||{},s.fxSettings,s[u],opts.defaults.fxSettings,opts.defaults[u]||{},opts[t].fxSettings,opts[t][u]||{});s[i]=opts[t][i]||opts[t].fxSpeed||opts.defaults[i]||opts.defaults.fxSpeed||s[i]||s[u].duration||s.fxSpeed||s.fxSettings.duration||o.fxSpeed||o.fxSettings.duration||c.duration||l.duration||"normal"})})},getPane=function(e){var t=options[e].paneSelector;if(t.substr(0,1)==="#")return $N.find(t).eq(0);else{var n=$N.children(t).eq(0);return n.length?n:$N.children("form:first").children(t).eq(0)}},initPanes=function(){$.each(_c.allPanes.split(","),function(e,t){addPane(t,true)});initHandles();$.each(_c.borderPanes.split(","),function(e,t){if($Ps[t]&&state[t].isVisible){setSizeLimits(t);makePaneFit(t)}});sizeMidPanes("center");setTimeout(function(){$.each(_c.allPanes.split(","),function(e,t){var n=options[t];if($Ps[t]&&state[t].isVisible){if(n.triggerEventsOnLoad)_execCallback(t,n.onresize_end||n.onresize);resizeNestedLayout(t)}})},50);if(options.showErrorMessages&&$N.innerHeight()<2)alert(lang.errContainerHeight.replace(/CONTAINER/,sC.ref))},addPane=function(e,t){if(!t&&!isInitialized())return;var n=options[e],r=state[e],i=_c[e],s=r.fx,o=i.dir,u=n.spacing_open||0,a=e=="center",f={},l=$Ps[e],c,h,p;if(l)removePane(e);else $Cs[e]=false;l=$Ps[e]=getPane(e);if(!l.length){$Ps[e]=false;return}if(!l.data("layoutCSS")){var d="position,top,left,bottom,right,width,height,overflow,zIndex,display,backgroundColor,padding,margin,border";l.data("layoutCSS",elCSS(l,d))}l.data("parentLayout",Instance).data("layoutRole","pane").data("layoutEdge",e).css(i.cssReq).css("zIndex",_c.zIndex.pane_normal).css(n.applyDemoStyles?i.cssDemo:{}).addClass(n.paneClass+" "+n.paneClass+"-"+e).bind("mouseenter."+sID,addHover).bind("mouseleave."+sID,removeHover);initContent(e,false);if(!a){c=r.size=_parseSize(e,n.size);h=_parseSize(e,n.minSize)||1;p=_parseSize(e,n.maxSize)||1e5;if(c>0)c=max(min(c,p),h);r.isClosed=false;r.isSliding=false;r.isResizing=false;r.isHidden=false}r.tagName=l[0].tagName;r.edge=e;r.noRoom=false;r.isVisible=true;switch(e){case"north":f.top=sC.insetTop;f.left=sC.insetLeft;f.right=sC.insetRight;break;case"south":f.bottom=sC.insetBottom;f.left=sC.insetLeft;f.right=sC.insetRight;break;case"west":f.left=sC.insetLeft;break;case"east":f.right=sC.insetRight;break;case"center":}if(o=="horz")f.height=max(1,cssH(e,c));else if(o=="vert")f.width=max(1,cssW(e,c));l.css(f);if(o!="horz")sizeMidPanes(e,true);if(n.initClosed&&n.closable&&!n.initHidden)close(e,true,true);else if(n.initHidden||n.initClosed)hide(e);else if(!r.noRoom)l.css("display","block");l.css("visibility","visible");if(n.showOverflowOnHover)l.hover(allowOverflow,resetOverflow);if(state.initialized){initHandles(e);initHotkeys(e);resizeAll();if(r.isVisible){if(n.triggerEventsOnLoad)_execCallback(e,n.onresize_end||n.onresize);resizeNestedLayout(e)}}},initHandles=function(e){if(!e||e=="all")e=_c.borderPanes;$.each(e.split(","),function(e,t){var n=$Ps[t];$Rs[t]=false;$Ts[t]=false;if(!n)return;var r=options[t],i=state[t],s=_c[t],o=r.resizerClass,u=r.togglerClass,a=s.side.toLowerCase(),f=i.isVisible?r.spacing_open:r.spacing_closed,l="-"+t,c=i.isVisible?"-open":"-closed",h=$Rs[t]=$("<div></div>"),p=r.closable?$Ts[t]=$("<div></div>"):false;if(!i.isVisible&&r.slidable)h.attr("title",r.sliderTip).css("cursor",r.sliderCursor);h.attr("id",r.paneSelector.substr(0,1)=="#"?r.paneSelector.substr(1)+"-resizer":"").data("parentLayout",Instance).data("layoutRole","resizer").data("layoutEdge",t).css(_c.resizers.cssReq).css("zIndex",_c.zIndex.resizer_normal).css(r.applyDemoStyles?_c.resizers.cssDemo:{}).addClass(o+" "+o+l).appendTo($N);if(p){p.attr("id",r.paneSelector.substr(0,1)=="#"?r.paneSelector.substr(1)+"-toggler":"").data("parentLayout",Instance).data("layoutRole","toggler").data("layoutEdge",t).css(_c.togglers.cssReq).css(r.applyDemoStyles?_c.togglers.cssDemo:{}).addClass(u+" "+u+l).appendTo(h);if(r.togglerContent_open)$("<span>"+r.togglerContent_open+"</span>").data("layoutRole","togglerContent").data("layoutEdge",t).addClass("content content-open").css("display","none").appendTo(p);if(r.togglerContent_closed)$("<span>"+r.togglerContent_closed+"</span>").data("layoutRole","togglerContent").data("layoutEdge",t).addClass("content content-closed").css("display","none").appendTo(p);enableClosable(t)}initResizable(t);if(i.isVisible)setAsOpen(t);else{setAsClosed(t);bindStartSlidingEvent(t,true)}});sizeHandles("all")},initContent=function(e,t){if(!isInitialized())return;var n=options[e],r=n.contentSelector,i=$Ps[e],s;if(r)s=$Cs[e]=n.findNestedContent?i.find(r).eq(0):i.children(r).eq(0);if(s&&s.length){if(!s.data("layoutCSS"))s.data("layoutCSS",elCSS(s,"height"));s.css(_c.content.cssReq);if(n.applyDemoStyles){s.css(_c.content.cssDemo);i.css(_c.content.cssDemoPane)}state[e].content={};if(t!==false)sizeContent(e)}else $Cs[e]=false},initButtons=function(){var e="ui-layout-button-",t;$.each("toggle,open,close,pin,toggle-slide,open-slide".split(","),function(n,r){$.each(_c.borderPanes.split(","),function(n,i){$("."+e+r+"-"+i).each(function(){t=$(this).data("layoutName")||$(this).attr("layoutName");if(t==undefined||t==options.name)bindButton(this,r,i)})})})},initResizable=function(e){var t=typeof $.fn.draggable=="function",n,r;if(!e||e=="all")e=_c.borderPanes;$.each(e.split(","),function(e,r){var i=options[r],s=state[r],o=_c[r],u=o.dir=="horz"?"top":"left",a,f;if(!t||!$Ps[r]||!i.resizable){i.resizable=false;return true}var l=$Ps[r],c=$Rs[r],h=i.resizerClass,p=h+"-drag",d=h+"-"+r+"-drag",v=h+"-dragging",m=h+"-"+r+"-dragging",g=h+"-dragging-limit",y=h+"-"+r+"-dragging-limit",b=false;if(!s.isClosed)c.attr("title",i.resizerTip).css("cursor",i.resizerCursor);c.bind("mouseenter."+sID,onResizerEnter).bind("mouseleave."+sID,onResizerLeave);c.draggable({containment:$N[0],axis:o.dir=="horz"?"y":"x",delay:0,distance:1,helper:"clone",opacity:i.resizerDragOpacity,addClasses:false,zIndex:_c.zIndex.resizer_drag,start:function(e,t){i=options[r];s=state[r];f=i.resizeWhileDragging;if(false===_execCallback(r,i.ondrag_start))return false;_c.isLayoutBusy=true;s.isResizing=true;timer.clear(r+"_closeSlider");setSizeLimits(r);a=s.resizerPosition;c.addClass(p+" "+d);b=false;n=$(i.maskIframesOnResize===true?"iframe":i.maskIframesOnResize).filter(":visible");var o,u=0;n.each(function(){o="ui-layout-mask-"+ ++u;$(this).data("layoutMaskID",o);$('<div id="'+o+'" class="ui-layout-mask ui-layout-mask-'+r+'"/>').css({background:"#fff",opacity:"0.001",zIndex:_c.zIndex.iframe_mask,position:"absolute",width:this.offsetWidth+"px",height:this.offsetHeight+"px"}).css($(this).position()).appendTo(this.parentNode)});$("body").disableSelection()},drag:function(e,t){if(!b){t.helper.addClass(v+" "+m).css({right:"auto",bottom:"auto"}).children().css("visibility","hidden");b=true;if(s.isSliding)$Ps[r].css("zIndex",_c.zIndex.pane_sliding)}var n=0;if(t.position[u]<a.min){t.position[u]=a.min;n=-1}else if(t.position[u]>a.max){t.position[u]=a.max;n=1}if(n){t.helper.addClass(g+" "+y);window.defaultStatus="Panel has reached its "+(n>0&&r.match(/north|west/)||n<0&&r.match(/south|east/)?"maximum":"minimum")+" size"}else{t.helper.removeClass(g+" "+y);window.defaultStatus=""}if(f)w(e,t,r)},stop:function(e,t){$("body").enableSelection();window.defaultStatus="";c.removeClass(p+" "+d);s.isResizing=false;_c.isLayoutBusy=false;w(e,t,r,true)}});var w=function(e,t,r,s){var o=t.position,u=_c[r],a,f,l=0;switch(r){case"north":a=o.top;break;case"west":a=o.left;break;case"south":a=sC.offsetHeight-o.top-i.spacing_open;break;case"east":a=sC.offsetWidth-o.left-i.spacing_open;break}if(s){$("div.ui-layout-mask").each(function(){this.parentNode.removeChild(this)});if(false===_execCallback(r,i.ondrag_end||i.ondrag))return false}else n.each(function(){$("#"+$(this).data("layoutMaskID")).css($(this).position()).css({width:this.offsetWidth+"px",height:this.offsetHeight+"px"})});f=a-sC["inset"+u.side];manualSizePane(r,f)}})},destroy=function(){$(window).unbind("."+sID);$(document).unbind("."+sID);$.each(_c.allPanes.split(","),function(e,t){removePane(t,false,true)});$N.removeData("layout").removeData("layoutContainer").removeClass(options.containerClass);if(!$N.data("layoutEdge")&&$N.data("layoutCSS"))$N.css($N.data("layoutCSS")).removeData("layoutCSS");if(sC.tagName=="BODY"&&($N=$("html")).data("layoutCSS"))$N.css($N.data("layoutCSS")).removeData("layoutCSS");unload()},removePane=function(e,t,n){if(!isInitialized())return;if(!$Ps[e])return;var r=$Ps[e],i=$Cs[e],s=$Rs[e],o=$Ts[e],u="-open",a="-sliding",f="-closed",l=options[e].paneClass,c=l+"-"+e,h=[l,l+u,l+f,l+a,c,c+u,c+f,c+a];$.merge(h,getHoverClasses(r,true));if(!r||!r.length){}else if(t&&!r.data("layoutContainer")&&(!i||!i.length||!i.data("layoutContainer")))r.remove();else{r.removeClass(h.join(" ")).removeData("layoutParent").removeData("layoutRole").removeData("layoutEdge").removeData("autoHidden").unbind("."+sID);if(!r.data("layoutContainer"))r.css(r.data("layoutCSS")).removeData("layoutCSS");if(i&&i.length&&!i.data("layoutContainer"))i.css(i.data("layoutCSS")).removeData("layoutCSS")}if(o&&o.length)o.remove();if(s&&s.length)s.remove();$Ps[e]=$Cs[e]=$Rs[e]=$Ts[e]=false;if(!n){resizeAll();state[e]={}}},hide=function(e,t){if(!isInitialized())return;var n=options[e],r=state[e],i=$Ps[e],s=$Rs[e];if(!i||r.isHidden)return;if(state.initialized&&false===_execCallback(e,n.onhide_start))return;r.isSliding=false;if(s)s.hide();if(!state.initialized||r.isClosed){r.isClosed=true;r.isHidden=true;r.isVisible=false;i.hide();sizeMidPanes(_c[e].dir=="horz"?"all":"center");if(state.initialized||n.triggerEventsOnLoad)_execCallback(e,n.onhide_end||n.onhide)}else{r.isHiding=true;close(e,false,t)}},show=function(e,t,n,r){if(!isInitialized())return;var i=options[e],s=state[e],o=$Ps[e],u=$Rs[e];if(!o||!s.isHidden)return;if(false===_execCallback(e,i.onshow_start))return;s.isSliding=false;s.isShowing=true;if(t===false)close(e,true);else open(e,false,n,r)},toggle=function(e,t){if(!isInitialized())return;if(!isStr(e)){e.stopImmediatePropagation();e=$(this).data("layoutEdge")}var n=state[str(e)];if(n.isHidden)show(e);else if(n.isClosed)open(e,!!t);else close(e)},_closePane=function(e,t){var n=$Ps[e],r=state[e];n.hide();r.isClosed=true;r.isVisible=false},close=function(e,t,n,r){function p(){if(a.isClosed){bindStartSlidingEvent(e,true);var t=_c.altSide[e];if(state[t].noRoom){setSizeLimits(t);makePaneFit(t)}if(!r&&(state.initialized||u.triggerEventsOnLoad)){if(!l)_execCallback(e,u.onclose_end||u.onclose);if(l)_execCallback(e,u.onshow_end||u.onshow);if(c)_execCallback(e,u.onhide_end||u.onhide)}}_dequeue(e)}if(!state.initialized&&$Ps[e]){_closePane(e);return}if(!isInitialized())return;var i=$Ps[e],s=$Rs[e],o=$Ts[e],u=options[e],a=state[e],f=!n&&!a.isClosed&&u.fxName_close!="none",l=a.isShowing,c=a.isHiding,h=a.isSliding;delete a.isShowing;delete a.isHiding;if(!i||!u.closable&&!l&&!c)return;else if(!t&&a.isClosed&&!l)return;if(_c.isLayoutBusy){_queue("close",e,t);return}if(!l&&false===_execCallback(e,u.onclose_start))return;_c[e].isMoving=true;_c.isLayoutBusy=true;a.isClosed=true;a.isVisible=false;if(c)a.isHidden=true;else if(l)a.isHidden=false;if(a.isSliding)bindStopSlidingEvents(e,false);else sizeMidPanes(_c[e].dir=="horz"?"all":"center",false);setAsClosed(e);if(f){lockPaneForFX(e,true);i.hide(u.fxName_close,u.fxSettings_close,u.fxSpeed_close,function(){lockPaneForFX(e,false);p()})}else{i.hide();p()}},setAsClosed=function(e){var t=$Ps[e],n=$Rs[e],r=$Ts[e],i=options[e],s=state[e],o=_c[e].side.toLowerCase(),u="inset"+_c[e].side,a=i.resizerClass,f=i.togglerClass,l="-"+e,c="-open",h="-sliding",p="-closed";n.css(o,sC[u]).removeClass(a+c+" "+a+l+c).removeClass(a+h+" "+a+l+h).addClass(a+p+" "+a+l+p).unbind("dblclick."+sID);if(i.resizable&&typeof $.fn.draggable=="function")n.draggable("disable").removeClass("ui-state-disabled").css("cursor","default").attr("title","");if(r){r.removeClass(f+c+" "+f+l+c).addClass(f+p+" "+f+l+p).attr("title",i.togglerTip_closed);r.children(".content-open").hide();r.children(".content-closed").css("display","block")}syncPinBtns(e,false);if(state.initialized){sizeHandles("all")}},open=function(e,t,n,r){function c(){if(a.isVisible){_fixIframe(e);if(!a.isSliding)sizeMidPanes(_c[e].dir=="vert"?"center":"all",false);setAsOpen(e)}_dequeue(e)}if(!isInitialized())return;var i=$Ps[e],s=$Rs[e],o=$Ts[e],u=options[e],a=state[e],f=!n&&a.isClosed&&u.fxName_open!="none",l=a.isShowing;delete a.isShowing;if(!i||!u.resizable&&!u.closable&&!l)return;else if(a.isVisible&&!a.isSliding)return;if(a.isHidden&&!l){show(e,true);return}if(_c.isLayoutBusy){_queue("open",e,t);return}setSizeLimits(e,t);if(false===_execCallback(e,u.onopen_start))return;setSizeLimits(e,t);if(a.minSize>a.maxSize){syncPinBtns(e,false);if(!r&&u.noRoomToOpenTip)alert(u.noRoomToOpenTip);return}_c[e].isMoving=true;_c.isLayoutBusy=true;if(t)bindStopSlidingEvents(e,true);else if(a.isSliding)bindStopSlidingEvents(e,false);else if(u.slidable)bindStartSlidingEvent(e,false);a.noRoom=false;makePaneFit(e);a.isVisible=true;a.isClosed=false;if(l)a.isHidden=false;if(f){lockPaneForFX(e,true);i.show(u.fxName_open,u.fxSettings_open,u.fxSpeed_open,function(){lockPaneForFX(e,false);c()})}else{i.show();c()}},setAsOpen=function(e,t){var n=$Ps[e],r=$Rs[e],i=$Ts[e],s=options[e],o=state[e],u=_c[e].side.toLowerCase(),a="inset"+_c[e].side,f=s.resizerClass,l=s.togglerClass,c="-"+e,h="-open",p="-closed",d="-sliding";r.css(u,sC[a]+getPaneSize(e)).removeClass(f+p+" "+f+c+p).addClass(f+h+" "+f+c+h);if(o.isSliding)r.addClass(f+d+" "+f+c+d);else r.removeClass(f+d+" "+f+c+d);if(s.resizerDblClickToggle)r.bind("dblclick",toggle);removeHover(0,r);if(s.resizable&&typeof $.fn.draggable=="function")r.draggable("enable").css("cursor",s.resizerCursor).attr("title",s.resizerTip);else if(!o.isSliding)r.css("cursor","default");if(i){i.removeClass(l+p+" "+l+c+p).addClass(l+h+" "+l+c+h).attr("title",s.togglerTip_open);removeHover(0,i);i.children(".content-closed").hide();i.children(".content-open").css("display","block")}syncPinBtns(e,!o.isSliding);$.extend(o,elDims(n));if(state.initialized){sizeHandles("all");sizeContent(e,true)}if(!t&&(state.initialized||s.triggerEventsOnLoad)&&n.is(":visible")){_execCallback(e,s.onopen_end||s.onopen);if(o.isShowing)_execCallback(e,s.onshow_end||s.onshow);if(state.initialized){_execCallback(e,s.onresize_end||s.onresize);resizeNestedLayout(e)}}},slideOpen=function(e){function s(e){if(!r.isClosed)bindStopSlidingEvents(n,true);else if(!_c[n].isMoving)open(n,true)}if(!isInitialized())return;var t=isStr(e)?null:e,n=t?$(this).data("layoutEdge"):e,r=state[n],i=options[n].slideDelay_open;if(t)t.stopImmediatePropagation();if(r.isClosed&&t&&t.type=="mouseenter"&&i>0)timer.set(n+"_openSlider",s,i);else s();},slideClose=function(e){function o(){if(i.isClosed)bindStopSlidingEvents(n,false);else if(!_c[n].isMoving)close(n)}if(!isInitialized())return;var t=isStr(e)?null:e,n=t?$(this).data("layoutEdge"):e,r=options[n],i=state[n],s=_c[n].isMoving?1e3:300;if(i.isClosed||i.isResizing)return;else if(r.slideTrigger_close=="click")o();else if(r.preventQuickSlideClose&&_c.isLayoutBusy)return;else if(r.preventPrematureSlideClose&&t&&$.layout.isMouseOverElem(t,$Ps[n]))return;else if(t)timer.set(n+"_closeSlider",o,max(r.slideDelay_close,s));else o();},slideToggle=function(e){toggle(e,true)},lockPaneForFX=function(e,t){var n=$Ps[e];if(t){n.css({zIndex:_c.zIndex.pane_animate});if(e=="south")n.css({top:sC.insetTop+sC.innerHeight-n.outerHeight()});else if(e=="east")n.css({left:sC.insetLeft+sC.innerWidth-n.outerWidth()})}else{n.css({zIndex:state[e].isSliding?_c.zIndex.pane_sliding:_c.zIndex.pane_normal});if(e=="south")n.css({top:"auto"});else if(e=="east")n.css({left:"auto"});var r=options[e];if($.layout.browser.msie&&r.fxOpacityFix&&r.fxName_open!="slide"&&n.css("filter")&&n.css("opacity")==1)n[0].style.removeAttribute("filter")}},bindStartSlidingEvent=function(e,t){var n=options[e],r=$Ps[e],i=$Rs[e],s=n.slideTrigger_open.toLowerCase();if(!i||t&&!n.slidable)return;if(s.match(/mouseover/))s=n.slideTrigger_open="mouseenter";else if(!s.match(/click|dblclick|mouseenter/))s=n.slideTrigger_open="click";i[t?"bind":"unbind"](s+"."+sID,slideOpen).css("cursor",t?n.sliderCursor:"default").attr("title",t?n.sliderTip:"")},bindStopSlidingEvents=function(e,t){function f(t){timer.clear(e+"_closeSlider");t.stopPropagation()}var n=options[e],r=state[e],i=_c.zIndex,s=n.slideTrigger_close.toLowerCase(),o=t?"bind":"unbind",u=$Ps[e],a=$Rs[e];r.isSliding=t;timer.clear(e+"_closeSlider");if(t)bindStartSlidingEvent(e,false);u.css("zIndex",t?i.pane_sliding:i.pane_normal);a.css("zIndex",t?i.pane_sliding:i.resizer_normal);if(!s.match(/click|mouseleave/))s=n.slideTrigger_close="mouseleave";a[o](s,slideClose);if(s=="mouseleave"){u[o]("mouseleave."+sID,slideClose);a[o]("mouseenter."+sID,f);u[o]("mouseenter."+sID,f)}if(!t)timer.clear(e+"_closeSlider");else if(s=="click"&&!n.resizable){a.css("cursor",t?n.sliderCursor:"default");a.attr("title",t?n.togglerTip_open:"")}},makePaneFit=function(e,t,n,r){var i=options[e],s=state[e],o=_c[e],u=$Ps[e],a=$Rs[e],f=o.dir=="vert",l=false;if(e=="center"||f&&s.noVerticalRoom){l=s.maxHeight>0;if(l&&s.noRoom){u.show();if(a)a.show();s.isVisible=true;s.noRoom=false;if(f)s.noVerticalRoom=false;_fixIframe(e)}else if(!l&&!s.noRoom){u.hide();if(a)a.hide();s.isVisible=false;s.noRoom=true}}if(e=="center"){}else if(s.minSize<=s.maxSize){l=true;if(s.size>s.maxSize)sizePane(e,s.maxSize,n,r);else if(s.size<s.minSize)sizePane(e,s.minSize,n,r);else if(a&&u.is(":visible")){var c=o.side.toLowerCase(),h=s.size+sC["inset"+o.side];if($.layout.cssNum(a,c)!=h)a.css(c,h)}if(s.noRoom){if(s.wasOpen&&i.closable){if(i.autoReopen)open(e,false,true,true);else s.noRoom=false}else show(e,s.wasOpen,true,true)}}else{if(!s.noRoom){s.noRoom=true;s.wasOpen=!s.isClosed&&!s.isSliding;if(s.isClosed){}else if(i.closable)close(e,true,true);else hide(e,true)}}},manualSizePane=function(e,t,n){if(!isInitialized())return;var r=options[e],i=r.resizeWhileDragging&&!_c.isLayoutBusy;r.autoResize=false;sizePane(e,t,n,i)},sizePane=function(e,t,n,r){if(!isInitialized())return;var i=options[e],s=state[e],o=$Ps[e],u=$Rs[e],a=_c[e].side.toLowerCase(),f=_c[e].sizeType.toLowerCase(),l="inset"+_c[e].side,c=_c.isLayoutBusy&&!i.triggerEventsWhileDragging,h;setSizeLimits(e);h=s.size;t=_parseSize(e,t);t=max(t,_parseSize(e,i.minSize));t=min(t,s.maxSize);if(t<s.minSize){makePaneFit(e,false,n);return}if(!r&&t==h)return;if(!n&&state.initialized&&s.isVisible)_execCallback(e,i.onresize_start);o.css(f,max(1,cssSize(e,t)));s.size=t;$.extend(s,elDims(o));if(u&&o.is(":visible"))u.css(a,t+sC[l]);sizeContent(e);if(!n&&!c&&state.initialized&&s.isVisible){_execCallback(e,i.onresize_end||i.onresize);resizeNestedLayout(e)}if(!n){if(!s.isSliding)sizeMidPanes(_c[e].dir=="horz"?"all":"center",c,r);sizeHandles("all")}var p=_c.altSide[e];if(t<h&&state[p].noRoom){setSizeLimits(p);makePaneFit(p,false,n)}},sizeMidPanes=function(e,t,n){if(!e||e=="all")e="east,west,center";$.each(e.split(","),function(e,r){if(!$Ps[r])return;var i=options[r],s=state[r],o=$Ps[r],u=$Rs[r],a=r=="center",f=true,l={},c=calcNewCenterPaneDims();$.extend(s,elDims(o));if(r=="center"){if(!n&&s.isVisible&&c.width==s.outerWidth&&c.height==s.outerHeight)return true;$.extend(s,cssMinDims(r),{maxWidth:c.width,maxHeight:c.height});l=c;l.width=cssW(r,l.width);l.height=cssH(r,l.height);f=l.width>0&&l.height>0;if(!f&&!state.initialized&&i.minWidth>0){var h=i.minWidth-s.outerWidth,p=options.east.minSize||0,d=options.west.minSize||0,v=state.east.size,m=state.west.size,g=v,y=m;if(h>0&&state.east.isVisible&&v>p){g=max(v-p,v-h);h-=v-g}if(h>0&&state.west.isVisible&&m>d){y=max(m-d,m-h);h-=m-y}if(h==0){if(v!=p)sizePane("east",g,true);if(m!=d)sizePane("west",y,true);sizeMidPanes("center",t,n);return}}}else{if(s.isVisible&&!s.noVerticalRoom)$.extend(s,elDims(o),cssMinDims(r));if(!n&&!s.noVerticalRoom&&c.height==s.outerHeight)return true;l.top=c.top;l.bottom=c.bottom;l.height=cssH(r,c.height);s.maxHeight=max(0,l.height);f=s.maxHeight>0;if(!f)s.noVerticalRoom=true}if(f){if(!t&&state.initialized)_execCallback(r,i.onresize_start);o.css(l);if(s.noRoom&&!s.isClosed&&!s.isHidden)makePaneFit(r);if(s.isVisible){$.extend(s,elDims(o));if(state.initialized)sizeContent(r)}}else if(!s.noRoom&&s.isVisible)makePaneFit(r);if(!s.isVisible)return true;if(r=="center"){var b=$.layout.browser;var w=b.isIE6||b.msie&&!b.boxModel;if($Ps.north&&(w||state.north.tagName=="IFRAME"))$Ps.north.css("width",cssW($Ps.north,sC.innerWidth));if($Ps.south&&(w||state.south.tagName=="IFRAME"))$Ps.south.css("width",cssW($Ps.south,sC.innerWidth))}if(!t&&state.initialized){_execCallback(r,i.onresize_end||i.onresize);resizeNestedLayout(r)}})},resizeAll=function(){if(!state.initialized){_initLayoutElements();return}var e=sC.innerWidth,t=sC.innerHeight;if(!$N.is(":visible:"))return;$.extend(state.container,elDims($N));if(!sC.outerHeight)return;if(false===_execCallback(null,options.onresizeall_start))return false;var n=sC.innerHeight<t,r=sC.innerWidth<e,i,s,o,u;$.each(["south","north","east","west"],function(e,t){if(!$Ps[t])return;o=state[t];s=options[t];u=_c[t].dir;if(s.autoResize&&o.size!=s.size)sizePane(t,s.size,true,true);else{setSizeLimits(t);makePaneFit(t,false,true,true)}});sizeMidPanes("all",true,true);sizeHandles("all");s=options;$.each(_c.allPanes.split(","),function(e,t){i=$Ps[t];if(!i)return;if(state[t].isVisible){_execCallback(t,s[t].onresize_end||s[t].onresize);resizeNestedLayout(t)}});_execCallback(null,s.onresizeall_end||s.onresizeall)},resizeNestedLayout=function(e){var t=$Ps[e],n=$Cs[e],r="layoutContainer";if(options[e].resizeNestedLayout){if(t.data(r))t.layout().resizeAll();else if(n&&n.data(r))n.layout().resizeAll()}},sizeContent=function(e,t){if(!isInitialized())return;if(!e||e=="all")e=_c.allPanes;$.each(e.split(","),function(e,n){function f(e){return max(o.css.paddingBottom,parseInt(e.css("marginBottom"),10)||0)}function l(){var e=options[n].contentIgnoreSelector,t=i.nextAll().not(e||":lt(0)"),r=t.filter(":visible"),s=r.filter(":last");u={top:i[0].offsetTop,height:i.outerHeight(),numFooters:t.length,hiddenFooters:t.length-r.length,spaceBelow:0};u.spaceAbove=u.top;u.bottom=u.top+u.height;if(s.length)u.spaceBelow=s[0].offsetTop+s.outerHeight()-u.bottom+f(s);else u.spaceBelow=f(i)}var r=$Ps[n],i=$Cs[n],s=options[n],o=state[n],u=o.content;if(!r||!i||!r.is(":visible"))return true;if(false===_execCallback(null,s.onsizecontent_start))return;if(!_c.isLayoutBusy||u.top==undefined||t||s.resizeContentWhileDragging){l();if(u.hiddenFooters>0&&r.css("overflow")=="hidden"){r.css("overflow","visible");l();r.css("overflow","hidden")}}var a=o.innerHeight-(u.spaceAbove-o.css.paddingTop)-(u.spaceBelow-o.css.paddingBottom);if(!i.is(":visible")||u.height!=a){setOuterHeight(i,a,true);u.height=a}if(state.initialized){_execCallback(n,s.onsizecontent_end||s.onsizecontent);resizeNestedLayout(n)}})},sizeHandles=function(e){if(!e||e=="all")e=_c.borderPanes;$.each(e.split(","),function(e,t){var n=options[t],r=state[t],i=$Ps[t],s=$Rs[t],o=$Ts[t],u;if(!i||!s)return;var a=_c[t].dir,f=r.isClosed?"_closed":"_open",l=n["spacing"+f],c=n["togglerAlign"+f],h=n["togglerLength"+f],p,d,v={};if(l==0){s.hide();return}else if(!r.noRoom&&!r.isHidden)s.show();if(a=="horz"){p=i.outerWidth();r.resizerLength=p;s.css({width:max(1,cssW(s,p)),height:max(0,cssH(s,l)),left:$.layout.cssNum(i,"left")})}else{p=i.outerHeight();r.resizerLength=p;s.css({height:max(1,cssH(s,p)),width:max(0,cssW(s,l)),top:sC.insetTop+getPaneSize("north",true)})}removeHover(n,s);if(o){if(h==0||r.isSliding&&n.hideTogglerOnSlide){o.hide();return}else o.show();if(!(h>0)||h=="100%"||h>p){h=p;d=0}else{if(isStr(c)){switch(c){case"top":case"left":d=0;break;case"bottom":case"right":d=p-h;break;case"middle":case"center":default:d=Math.floor((p-h)/2)}}else{var m=parseInt(c,10);if(c>=0)d=m;else d=p-h+m}}if(a=="horz"){var g=cssW(o,h);o.css({width:max(0,g),height:max(1,cssH(o,l)),left:d,top:0});o.children(".content").each(function(){u=$(this);u.css("marginLeft",Math.floor((g-u.outerWidth())/2))})}else{var y=cssH(o,h);o.css({height:max(0,y),width:max(1,cssW(o,l)),top:d,left:0});o.children(".content").each(function(){u=$(this);u.css("marginTop",Math.floor((y-u.outerHeight())/2))})}removeHover(0,o)}if(!state.initialized&&(n.initHidden||r.noRoom)){s.hide();if(o)o.hide()}})},enableClosable=function(e){if(!isInitialized())return;var t=$Ts[e],n=options[e];if(!t)return;n.closable=true;t.bind("click."+sID,function(t){t.stopPropagation();toggle(e)}).bind("mouseenter."+sID,addHover).bind("mouseleave."+sID,removeHover).css("visibility","visible").css("cursor","pointer").attr("title",state[e].isClosed?n.togglerTip_closed:n.togglerTip_open).show()},disableClosable=function(e,t){if(!isInitialized())return;var n=$Ts[e];if(!n)return;options[e].closable=false;if(state[e].isClosed)open(e,false,true);n.unbind("."+sID).css("visibility",t?"hidden":"visible").css("cursor","default").attr("title","")},enableSlidable=function(e){if(!isInitialized())return;var t=$Rs[e],n=options[e];if(!t||!t.data("draggable"))return;options[e].slidable=true;if(s.isClosed)bindStartSlidingEvent(e,true)},disableSlidable=function(e){if(!isInitialized())return;var t=$Rs[e];if(!t)return;options[e].slidable=false;if(state[e].isSliding)close(e,false,true);else{bindStartSlidingEvent(e,false);t.css("cursor","default").attr("title","");removeHover(null,t[0])}},enableResizable=function(e){if(!isInitialized())return;var t=$Rs[e],n=options[e];if(!t||!t.data("draggable"))return;n.resizable=true;t.draggable("enable").bind("mouseenter."+sID,onResizerEnter).bind("mouseleave."+sID,onResizerLeave);if(!state[e].isClosed)t.css("cursor",n.resizerCursor).attr("title",n.resizerTip)},disableResizable=function(e){if(!isInitialized())return;var t=$Rs[e];if(!t||!t.data("draggable"))return;options[e].resizable=false;t.draggable("disable").unbind("."+sID).css("cursor","default").attr("title","");removeHover(null,t[0])},swapPanes=function(e,t){function o(e){var t=$Ps[e],n=$Cs[e];return!t?false:{pane:e,P:t?t[0]:false,C:n?n[0]:false,state:$.extend({},state[e]),options:$.extend({},options[e])}}function u(e,t){if(!e)return;var n=e.P,r=e.C,i=e.pane,o=_c[t],u=o.side.toLowerCase(),a="inset"+o.side,f=$.extend({},state[t]),l=options[t],c={resizerCursor:l.resizerCursor},h,p,d;$.each("fxName,fxSpeed,fxSettings".split(","),function(e,t){c[t]=l[t];c[t+"_open"]=l[t+"_open"];c[t+"_close"]=l[t+"_close"]});$Ps[t]=$(n).data("layoutEdge",t).css(_c.hidden).css(o.cssReq);$Cs[t]=r?$(r):false;options[t]=$.extend({},e.options,c);state[t]=$.extend({},e.state);h=new RegExp(l.paneClass+"-"+i,"g");n.className=n.className.replace(h,l.paneClass+"-"+t);initHandles(t);if(o.dir!=_c[i].dir){p=s[t]||0;setSizeLimits(t);p=max(p,state[t].minSize);manualSizePane(t,p,true)}else $Rs[t].css(u,sC[a]+(state[t].isVisible?getPaneSize(t):0));if(e.state.isVisible&&!f.isVisible)setAsOpen(t,true);else{setAsClosed(t);bindStartSlidingEvent(t,true)}e=null}if(!isInitialized())return;state[e].edge=t;state[t].edge=e;var n=false;if(false===_execCallback(e,options[e].onswap_start))n=true;if(!n&&false===_execCallback(t,options[t].onswap_start))n=true;if(n){state[e].edge=e;state[t].edge=t;return}var r=o(e),i=o(t),s={};s[e]=r?r.state.size:0;s[t]=i?i.state.size:0;$Ps[e]=false;$Ps[t]=false;state[e]={};state[t]={};if($Ts[e])$Ts[e].remove();if($Ts[t])$Ts[t].remove();if($Rs[e])$Rs[e].remove();if($Rs[t])$Rs[t].remove();$Rs[e]=$Rs[t]=$Ts[e]=$Ts[t]=false;u(r,t);u(i,e);r=i=s=null;if($Ps[e])$Ps[e].css(_c.visible);if($Ps[t])$Ps[t].css(_c.visible);resizeAll();_execCallback(e,options[e].onswap_end||options[e].onswap);_execCallback(t,options[t].onswap_end||options[t].onswap);return;};var $N=$(this).eq(0);if(!$N.length){if(options.showErrorMessages)alert(lang.errContainerMissing);return null}if($N.data("layoutContainer")&&$N.data("layout"))return $N.data("layout");var $Ps={},$Cs={},$Rs={},$Ts={},sC=state.container,sID=state.id;var Instance={options:options,state:state,container:$N,panes:$Ps,contents:$Cs,resizers:$Rs,togglers:$Ts,toggle:toggle,hide:hide,show:show,open:open,close:close,slideOpen:slideOpen,slideClose:slideClose,slideToggle:slideToggle,initContent:initContent,sizeContent:sizeContent,sizePane:manualSizePane,swapPanes:swapPanes,resizeAll:resizeAll,initPanes:isInitialized,destroy:destroy,addPane:addPane,removePane:removePane,setSizeLimits:setSizeLimits,bindButton:bindButton,addToggleBtn:addToggleBtn,addOpenBtn:addOpenBtn,addCloseBtn:addCloseBtn,addPinBtn:addPinBtn,allowOverflow:allowOverflow,resetOverflow:resetOverflow,encodeJSON:encodeJSON,decodeJSON:decodeJSON,getState:getState,getCookie:getCookie,saveCookie:saveCookie,deleteCookie:deleteCookie,loadCookie:loadCookie,loadState:loadState,cssWidth:cssW,cssHeight:cssH,enableClosable:enableClosable,disableClosable:disableClosable,enableSlidable:enableSlidable,disableSlidable:disableSlidable,enableResizable:enableResizable,disableResizable:disableResizable};if(_create()==="cancel")return null;else return Instance}})(jQuery)